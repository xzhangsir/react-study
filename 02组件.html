<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>组件</title>
  <script src="./build/react.development.js"></script>
  <script src="./build/react-dom.development.js"></script>
  <script src="./build/prop-types.js"></script>
  <script src="./build/babel.min.js"></script>
</head>

<body>
  <div id="div1"></div>
  <div id="div2"></div>
  <!-- <script type="text/babel">
    //定义组件
    // 方式一：工厂函数组件
    function MyComponent() {
      return (
        <ul>
          <li>工厂函数组件</li>
          <li>工厂函数组件</li>
        </ul>
      )
    }
    ReactDOM.render(<MyComponent />, document.getElementById('div1'))

    // 方式二：ES6类组件
    class MyComponent2 extends React.Component {
      render() {
        return <h1>ES6类组件</h1>
      }
    }
    ReactDOM.render(<MyComponent2 />, document.getElementById('div2'))

    // PureComponent  会对传递过来的数据 进行浅比较  如果props数据没有发生变化  组件就不会重新渲染
    class MyComponent2 extends React.PureComponent {
      render() {
        return <h1>ES6类组件</h1>
      }
    }
    ReactDOM.render(<MyComponent2 />, document.getElementById('div2'))
  </script> -->

  <!-- <script type="text/babel">
    // 组件的第一个属性  state
    class Like extends React.Component {
      constructor() {
        super()
        // 初始化状态
        this.state = {
          isLikeMe: false
        }
        // 将新增的方法中的this强制绑定为组件对象(很关键的一步)
        // this.handleClick = this.handleClick.bind(this)  //用箭头函数 就不用这个麻烦了
      }
      // 新添加的方法：内部的this默认不是组件对象，而是undefined
      // handleClick() {
      //   let isLikeMe = !this.state.isLikeMe
      //   // 更新状态
      //   this.setState({ isLikeMe })
      // }

      // 使用箭头函数 改变this指向
      handleClick = () => {
        this.setState({
          isLikeMe: !this.state.isLikeMe
        })
      }
      render() {
        // 得到状态
        let { isLikeMe } = this.state
        return (
          <h1 onClick={this.handleClick}>
            {isLikeMe ? '世界你好！' : '你好世界！'}
          </h1>
        )
      }
    }
    ReactDOM.render(<Like />, document.getElementById('div1'))
  </script> -->
  <!-- <script type="text/babel">
    // 组件的第二个属性  props
    // 工厂模式定义组件
    /*  function Person(props) {
       return (
         <ul>
           <li>姓名：{props.person.name}</li>
           <li>年龄：{props.person.age}</li>
           <li>性别：{props.person.sex}</li>
         </ul>
       )
     } */
    // ES6类的模式定义组件
    class Person extends React.Component {
      // 指定组件的默认值
      static defaultProps = {
        person: {
          name: 'xxx',
          age: 18,
          sex: '男'
        }
      }
      // 指定组件属性值的类型和必要性   必须引入  prop-types.js  这个库
      static propTypes = {
        person: PropTypes.object.isRequired //PropTypes是对象类型且必须传
      }
      render() {
        let { person } = this.props
        return (
          <ul>
            <li>姓名：{person.name}</li>
            <li>年龄：{person.age}</li>
            <li>性别：{person.sex}</li>
          </ul>
        )
      }
    }
    let person1 = {
      name: 'zx',
      age: 20,
      sex: '男'
    }
    let person2 = {
      name: 'waa',
      age: 20,
      sex: '女'
    }
    ReactDOM.render(
      <div>
        {/*传值给子组件*/}
        <Person person={person1} />
        <Person person={person2} />
      </div>,
      document.getElementById('div1')
    )
  </script> -->
  <!-- <script type="text/babel">
    // 组件的第三个属性  ref
    class Mydom extends React.Component {
      constructor(props) {
        super(props)
        this.mydiv = React.createRef()
        this.myinput = React.createRef()   //可以不要
      }
      componentDidMount() {
        console.log(this.mydiv.current)
      }
      getInput = () => {
        console.log(this.myinput.value)
      }
      render() {
        return (
          <div>
            <div ref={this.mydiv}>ref</div>
            <input type="text" ref={input => (this.myinput = input)} />
            <button onClick={this.getInput}>获取input值</button>
          </div>
        )
      }
    }
    ReactDOM.render(<Mydom />, document.getElementById('div1'))
  </script> -->
  <!--   <script type="text/babel">
      // 类似vue的插槽
      class Abox extends React.Component {
        render() {
          return <div className="box1">{this.props.children}</div>
        }
      }

      ReactDOM.render(
        <div className="box1">
          <Abox>
            <p>11</p>
            <p>22</p>
          </Abox>
        </div>,
        document.getElementById('div1')
      )
    </script> -->
</body>

</html>